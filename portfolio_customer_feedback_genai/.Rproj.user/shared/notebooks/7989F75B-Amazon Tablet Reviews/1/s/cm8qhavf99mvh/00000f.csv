"0",""
"0","chat <- function(sys_content, user_content) {"
"0","  "
"0","  api_key <- Sys.getenv(""OPENAI_API_KEY"")"
"0","  "
"0","  body <- list(model = ""gpt-3.5-turbo"","
"0","               messages = list("
"0","                 list(role = ""system"", content = sys_content),"
"0","                 list(role = ""user"", content = user_content)"
"0","               )"
"0","  )"
"0","  req <- request(""https://api.openai.com/v1"")"
"0","  resp <-"
"0","    req %>%"
"0","    req_url_path_append(""chat/completions"") %>%"
"0","    req_auth_bearer_token(token = api_key) %>%"
"0","    req_headers(""tontent-type"" = ""application/jason"") %>%"
"0","    req_body_json(body) %>%"
"0","    req_perform()"
"0","  "
"0","  openai_chat_response <- resp %>% resp_body_json(simplifyVector = TRUE)"
"0","  "
"0","  openai_chat_response$choices$message$content"
"0","  "
"0","}"
"0","  "
